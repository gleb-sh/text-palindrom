class DataRequest{answer=null;getdata(e,t,a=function(e){}){let n=new XMLHttpRequest;n.open("POST","/"+e,!0),n.setRequestHeader("Content-Type","application/json; charset=utf-8"),n.send(JSON.stringify(t)),n.onreadystatechange=function(){4==n.readyState&&(this.ans=JSON.parse(n.responseText),console.log(this.ans),a(this.ans))}}}document.querySelectorAll(".homeblock-form").forEach(e=>{e.addEventListener("submit",t=>(t.preventDefault(),t.stopPropagation(),input=e.querySelector("input"),data={},input.value.lenght<1||(data[input.name]=input.value,$Request=new DataRequest,$Request.getdata(e.dataset.method,data,e=>{title=document.querySelector(".result-title"),title.classList.remove("hidden"),list=document.querySelector(".result-body_list"),list.querySelectorAll("li").forEach(e=>{e.remove()}),1===e.status?(title.innerHTML="Найден <strong>"+e.data.count+"</strong> панидром (-ов)",e.data.list.forEach(e=>{let t=document.createElement("li");t.innerHTML=e,list.append(t)})):title.innerHTML=e.data.error})),!1))});